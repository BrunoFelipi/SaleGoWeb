<script type="text/javascript">
$(".button-collapse").sideNav();
</script>

<style media="screen">
    header,
    main,
    footer {
        padding-left: 300px;
    }

    @media only screen and (max-width: 992px) {
        header,
        main,
        footer {
            padding-left: 0;
        }
    }

    #map {
        height: 400px;
        width: 100%;
    }
</style>

<div id="divCadastrarPonto" ng-controller="cadastrarPontoCtrl">

    <header>
        <nav>
            <ul id="sideNav" class="side-nav fixed">
                <li>
                    <div class="userView">
                        <img class="background" src="resources/bk1.jpg">
                        <a href="#/conta"><img class="circle" src="resources/logo.png"></a>
                        <a href="#/conta"><span class="white-text name">{{empresaAtiva.nome}}</span></a>
                        <a href="#/conta"><span class="white-text email">{{empresaAtiva.email}}</span></a>
                    </div>
                </li>
                <li>
                    <a href="#/home" class="waves-effect" href=""><i class="material-icons">home</i>Home</a>
                </li>

                <li class="active">
                    <a href="" ng-click="reloadView()" class="waves-effect" href=""><i class="material-icons">add</i>Cadastrar Ponto</a>
                </li>

                <li>
                    <a href="#/relatorio" class="waves-effect" href=""><i class="material-icons">subject</i>Relatórios</a>
                </li>

                <li>
                    <a href="#/conta" class="waves-effect" href=""><i class="material-icons">settings</i>Conta</a>
                </li>

                <li>
                    <div class="divider"></div>
                </li>

                <li>
                    <a href="#/login" class="waves-effect" href=""><i class="material-icons red-text">power_settings_new</i>Sair</a>
                </li>
            </ul>

            <div class=" light-blue darken-2">
                <div class="container">
                    <div class="nav-wrapper">
                        <a href="" data-activates="sideNav" class="button-collapse show-on-small"><i class="material-icons">menu</i></a>
                        <a href="" class="brand-logo center light">Cadastrar Ponto</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container">
            <form style="padding-top: 30px" ng-submit="cadastrarPonto(ponto)">

                <div class="row" style="padding-top: 20px">
                    <div class="input-field col s12">
                        <input placeholder="" ng-blur="initMap()" id="endereco" type="text" ng-model="ponto.endereco" class="validate" required>
                        <label for="endereco">Endereço</label>
                    </div>
                </div>

                <div id="map"></div>
                <br>
                <div class="row">
                    <div class="input-field col s12">
                        <textarea id="descricao" ng-model="ponto.descricao" class="materialize-textarea" required></textarea>
                        <label for="descricao">Descrição</label>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field col s12">
                        <input id="raioAlcance" ng-model="ponto.raioAlcance" type="number" class="validate" min="0" max="30" required>
                        <label for="descricao">Raio de Alcance (Km)</label>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field col s12">
                        <input placeholder="" id="valor" ng-model="ponto.valor" type="number" class="validate" required>
                        <label for="valor">Valor</label>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field col s6">
                        <select class="icons" ng-model="ponto.tipoDesconto">
                            <option value="" disabled ng-selected="publicacao.tipoDesconto==null">Selecione um tipo</option>
                            <option value="R$" selected ng-selected="publicacao.tipoDesconto=='R$'" data-icon="resources/money-bag.png" class="left circle">R$</option>
                            <option value="%" ng-selected="publicacao.tipoDesconto=='%'" data-icon="resources/sales.png" class="left circle">%</option>
                        </select>
                        <label>Tipo de desconto</label>
                    </div>
                </div>

                <div class="input-field">
                    <input type="text" class="datepicker" id="dataValidade" ng-model="ponto.dataValidade">
                    <label>Data de Validade</label>
                </div>

                <br>
                <div class="divider"></div>
                <br>
                <button type="submit" class="waves-effect waves-teal btn-flat teal-text center">Cadastrar</button>
                <a href="" ng-click="limparCampos()" class="waves-effect waves-red btn-flat right red-text center">Cancelar</a>
                <br>
            </form>
        </div>
    </main>

    <footer>

    </footer>
</div>

<script>
    $(document).ready(function(){
        $(".button-collapse").sideNav();
        $('.button-collapse').sideNav('hide');
        $("#raioAlcance").focus();
        $("#endereco").focus();
        $('.datepicker').pickadate({
           selectMonths: true, // Creates a dropdown to control month
           selectYears: 5, // Creates a dropdown of 15 years to control year
           format: 'dd/mm/yyyy'
         });
        $('select').material_select();
    });
</script>
